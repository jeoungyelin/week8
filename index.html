<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í™ˆ í™”ë©´ (êµìˆ˜ë‹˜ ëª°ë˜ í”„ë ˆì²¼)</title>
    
    <style>
        /* ------------------------------------- */
        /* A. ì „ì²´ ì´ˆê¸° ì„¤ì • ë° ë°°ê²½ ì´ë¯¸ì§€ ì„¤ì • */
        /* ------------------------------------- */
        body, html {
            margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden;
        }

        #main-screen {
            width: 100%; height: 100%;
            background-image: url('Frame 2087326991.png'); /* ë©”ì¸ ë°°ê²½ ì´ë¯¸ì§€ */
            background-size: cover; background-position: center;
            background-repeat: no-repeat; position: relative; z-index: 400;
        }
        
        /* ------------------------------------- */
        /* B. í™ˆ í™”ë©´ ì¸ë¬¼ ë° ë§í’ì„  ìŠ¤íƒ€ì¼ */
        /* ------------------------------------- */
        #main-character-img { 
            width: 940px; height: 1050px; position: absolute; 
            
            /* ğŸš¨ ë²„íŠ¼ ìœ„ì¹˜ë¥¼ ë°©í•´í•˜ëŠ” top ëŒ€ì‹  bottomì—ì„œ ì‹œì‘ ğŸš¨ */
            bottom: -100%; /* í™”ë©´ ì•„ë˜ìª½ìœ¼ë¡œ ìˆ¨ê¹€ */
            left: 26%; 
            
            transform: translate(-50%, 0); /* Xì¶• ì¤‘ì•™ ì •ë ¬ ìœ ì§€ */
            background-image: url('image 110492.png'); background-size: contain;
            
            /* ğŸš¨ transition ì†ì„± ë³€ê²½ ğŸš¨ */
            transition: bottom 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55); 
            z-index: 405;
        }
        
        #main-character-bubble { 
            width: 400px; height: 53px; position: absolute; 
            top: 15%; left: 25%; background-image: url('hey.png'); 
            background-size: contain; opacity: 0; transition: opacity 0.3s; z-index: 406;
        }

        /* ------------------------------------- */
        /* C. ë²„íŠ¼ ê³µí†µ ë° ê°œë³„ ìœ„ì¹˜ */
        /* ------------------------------------- */
        button {
            background: none; border: none; cursor: pointer; padding: 0; position: absolute;
            top: auto; left: auto; /* ğŸš¨ bottom/rightê°€ ì‘ë™í•˜ë„ë¡ top/left í•´ì œ ğŸš¨ */
            z-index: 410;
        }

        button img { display: block; width: 100%; height: auto; }

        /* ğŸš¨ ë²„íŠ¼ ê°œë³„ ìœ„ì¹˜ ë° í¬ê¸°: ì´ ê°’ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤! ğŸš¨ */
        #start-button { width: 250px; bottom: 140px; right: 640px; } 
        #help-button { width: 250px; bottom: 140px; right: 340px; } 
        #bgm-button { width: 100px; top: 40px; right: 40px; }

        /* ------------------------------------- */
        /* D. ê²Œì„ ë°©ë²• ì˜¤ë²„ë ˆì´ ìŠ¤íƒ€ì¼ */
        /* ------------------------------------- */
        #help-overlay { 
            display: none; width: 110%; height: 110%; position: absolute; top: -60px; left: 0; 
            justify-content: center; align-items: center; z-index: 600;
            background-image: url('Frame 2087326993.png');
            background-size: cover;

            background-position: center; 
            background-repeat: no-repeat;
        }

        #help-box {
            width: 140%; height: 140%; left: -90px;
            background-image: url('Group 2085666300.png');
            background-size: contain; background-repeat: no-repeat;
            background-position: center; 
            position: relative;
            top: 0%; /* ì´ˆê¸° ìœ„ì¹˜: í™”ë©´ ë°– ìœ„ìª½ */
            transition: top 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55); 
        }

        #help-content {
             position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        }
        .help-page { 
            position: absolute; 
            width: 55%; height: 55%;
            top: 2.5%; left: 23%;
            background-size: contain; 
            background-repeat: no-repeat; 
            background-position: center;
            
            opacity: 0; /* ğŸš¨ í•µì‹¬: ì´ˆê¸° íˆ¬ëª…ë„ 0 ğŸš¨ */
            transition: opacity 0.5s ease-in-out; /* í˜ì´ë“œì¸ íš¨ê³¼ */
        }
        
        /* ê° í˜ì´ì§€ ì´ë¯¸ì§€ ì •ì˜ */
        #help-img-1 { background-image: url('Group 2085666313.png'); }
        #help-img-2 { background-image: url('Group 2085666321.png'); }
        #help-img-3 { background-image: url('Group 2085666329.png'); }


        /* ë‹¤ìŒ/ì´ì „ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .help-nav-btn { position: absolute; top: 50%; transform: translateY(-50%); width: 150px; height: 150px; }
        #help-next-button { position: absolute; top: -72px; right: 120px; width: 255px; z-index: 601; }
        /* ğŸš¨ ì´ì „ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ì¢Œì¸¡ ìœ„ì¹˜ ë° í¬ê¸° ì¡°ì •) ğŸš¨ */
        #help-prev-button { 
            top: -72px; right: 365px;
            width: 255px;
            display: none;
        }
        #help-back-button { position: absolute; top: -127px; left: 120px; width: 255px; z-index: 601; }
    </style>
</head>
<body>

    <div id="main-screen">
        
        <div id="main-character-img"></div>
        <div id="main-character-bubble"></div>
        
        <button id="start-button">
            <img src="Group 2085666287.png" alt="ê²Œì„ ì‹œì‘" data-normal="Group 2085666287.png" data-hover="Group 2085666238.png">
        </button>
        <button id="help-button">
            <img src="Group 2085666288.png" alt="ê²Œì„ ë°©ë²•" data-normal="Group 2085666288.png" data-hover="Group 2085666241.png">
        </button>
        <button id="bgm-button">
            <img src="Group 2085666266.png" alt="BGM ì¼œê¸°/ë„ê¸°" id="bgm-icon" data-normal="Group 2085666265.png" data-off="Group 2085666266.png">
        </button>
    </div>
    
    <div id="help-overlay">

    <div id="help-box">
        
    <div id="help-content">
        <div id="help-img-1" class="help-page"></div>
        <div id="help-img-2" class="help-page"></div>
        <div id="help-img-3" class="help-page"></div>
    </div>
    <button id="help-back-button"><img src="Group 2085666264.png" data-normal="Group 2085666264.png" data-hover="Group 2085666263.png"></button>
    
    <button id="help-next-button" class="help-nav-btn"><img src="Group 2085666297.png" data-normal="Group 2085666297.png" data-hover="Group 2085666298.png"></button>

    <button id="help-prev-button" class="help-nav-btn"><img src="Group 2085666301.png" data-normal="Group 2085666301.png" data-hover="Group 2085666302.png"></button>
    </div>
</div>

    <audio id="click-sound" src="click-345983.mp3"></audio>
    <audio id="game-bgm" src="[diINnQEGrY4].mp3" loop></audio>
    <audio id="eat-sound" src="eat_sound.mp3"></audio>

<script>
    let helpPageIndex = 1; 
    let isBgmPlaying = false; 

    function playClickSound() {
        const clickSound = document.getElementById('click-sound'); 
        if (clickSound) {
            clickSound.currentTime = 0; 
            clickSound.play().catch(e => console.log('í´ë¦­ ì†Œë¦¬ ì¬ìƒ ì‹¤íŒ¨:', e));
        }
    }
    
    function setupHoverEffect(buttonElement) {
        const imageElement = buttonElement.querySelector('img');
        if (!imageElement) return;
        
        if (buttonElement.id === 'bgm-button') return; 
        
        imageElement.addEventListener('mouseover', () => { 
            imageElement.src = imageElement.dataset.hover || imageElement.dataset.normal; 
        });
        imageElement.addEventListener('mouseout', () => { imageElement.src = imageElement.dataset.normal; });
    }

    function setHelpPage(index) {
        const totalPages = 3; 
        
        if (index < 1) { index = 1; alert('ì²« í˜ì´ì§€ì…ë‹ˆë‹¤!'); }
        if (index > totalPages) { index = totalPages; alert('ë§ˆì§€ë§‰ í˜ì´ì§€ì…ë‹ˆë‹¤!'); }
        
        helpPageIndex = index;
        
        document.querySelectorAll('.help-page').forEach(page => { page.style.opacity = 0; });
        document.getElementById(`help-img-${index}`).style.opacity = 1;
        
        document.getElementById('help-next-button').style.display = (index < totalPages) ? 'block' : 'none';
        document.getElementById('help-prev-button').style.display = (index > 1) ? 'block' : 'none';
    }

    document.addEventListener('DOMContentLoaded', () => {
        const mainScreen = document.getElementById('main-screen');
        const helpOverlay = document.getElementById('help-overlay');
        const mainCharacter = document.getElementById('main-character-img');
        const mainCharacterBubble = document.getElementById('main-character-bubble');
        const gameBgm = document.getElementById('game-bgm');
        const bgmButton = document.getElementById('bgm-button');
        
        const startBtn = document.getElementById('start-button');
        const helpBtn = document.getElementById('help-button');
        const nextBtn = document.getElementById('help-next-button');
        const prevBtn = document.getElementById('help-prev-button');
        const backBtn = document.getElementById('help-back-button');

        // 1. ìŠ¤í”„ë§ íŠ€ì–´ì˜¤ë¥´ëŠ” íš¨ê³¼ (ì¦‰ì‹œ ë°œë™)
        setTimeout(() => { mainCharacter.style.bottom = '-12%'; }, 100); 
        
        // 2. í˜¸ë²„ íš¨ê³¼ ì—°ê²°
        setupHoverEffect(startBtn); setupHoverEffect(helpBtn);
        setupHoverEffect(nextBtn); setupHoverEffect(prevBtn); setupHoverEffect(backBtn);
        
        // 3. ì¸ë¬¼ í˜¸ë²„ ì‹œ ë§í’ì„ 
        mainCharacter.addEventListener('mouseover', () => { mainCharacterBubble.style.opacity = 1; });
        mainCharacter.addEventListener('mouseout', () => { mainCharacterBubble.style.opacity = 0; });
        
        // 4. ğŸš¨ BGM ë²„íŠ¼ ë¡œì§ (í´ë¦­ë§Œìœ¼ë¡œ ì´ë¯¸ì§€ í† ê¸€) ğŸš¨
        bgmButton.addEventListener('click', () => { 
            
            playClickSound(); // í´ë¦­ ì†Œë¦¬ ì¬ìƒ
            const bgmIcon = document.getElementById('bgm-icon');
            
            const offSrc = bgmIcon.dataset.off;
            const normalSrc = bgmIcon.dataset.normal;

            if (isBgmPlaying) { 
                gameBgm.pause(); isBgmPlaying = false; 
                if (offSrc) bgmIcon.src = offSrc; 
            } else { 
                gameBgm.currentTime = 3; 
                gameBgm.play().catch(e => console.log('BGM ì¬ìƒ ì‹¤íŒ¨:', e)); 
                isBgmPlaying = true;
                if (normalSrc) bgmIcon.src = normalSrc; 
            }
        });
        
        // 5. í™”ë©´ ì „í™˜ ë¡œì§
        startBtn.addEventListener('click', () => {
            playClickSound(); 
            console.log("ê²Œì„ ì‹œì‘ í™”ë©´ìœ¼ë¡œ ì „í™˜: game.htmlë¡œ ì´ë™");
           
           // ì†Œë¦¬ê°€ ì¬ìƒë  ì‹œê°„ì„ ì ì‹œ í™•ë³´í•œ í›„ í˜ì´ì§€ ì´ë™ (0.1ì´ˆ í›„)
            setTimeout(() => {
                // ğŸš¨ 2. í˜ì´ì§€ ì´ë™ ğŸš¨
                window.location.href = 'game.html'; 
            }, 100); // 100ms ì§€ì—°
        });
        
        // 6. ğŸš¨ ê²Œì„ ë°©ë²• ë²„íŠ¼ í´ë¦­ ë¡œì§ ğŸš¨
        helpBtn.addEventListener('click', () => {
            playClickSound(); 
            mainScreen.style.display = 'none'; 
            helpOverlay.style.display = 'flex'; 
            
            const helpBox = document.getElementById('help-box');
            helpBox.style.top = '43%'; // ìŠ¤í”„ë§ íš¨ê³¼ ë°œë™
            
            setTimeout(() => { setHelpPage(1); }, 700);
        });
        
        // 7. ë„ì›€ë§ í˜ì´ì§€ ì´ë™ ë²„íŠ¼
        nextBtn.addEventListener('click', () => { playClickSound(); setHelpPage(helpPageIndex + 1); });
        prevBtn.addEventListener('click', () => { playClickSound(); setHelpPage(helpPageIndex - 1); });
        
        // 8. ë˜ëŒì•„ê°€ê¸° ë²„íŠ¼ ìµœì¢… ë¡œì§
        backBtn.addEventListener('click', () => {
            playClickSound(); 
            const helpBox = document.getElementById('help-box');

            helpBox.style.top = '-100%'; // ì„¤ëª… ë°•ìŠ¤ë¥¼ í™”ë©´ ë°–ìœ¼ë¡œ ìˆ¨ê¹€
            
            setTimeout(() => {
                helpOverlay.style.display = 'none';
                mainScreen.style.display = 'block';
            }, 700);
        });
    });
</script>
</body>
</html>